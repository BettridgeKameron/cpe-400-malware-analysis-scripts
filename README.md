# CPE 400 Malware Analysis Code

This code was what I used to help do some basic analysis on the network traffic on the Virtual Machine that was used to run malware.

## Analyzer Script (analyze.py)

This script is a very basic packet analyzer written in Python, designed to provide a higher-level perspective on network data. It was developed on a Windows 11 environment, so keep that in mind when running or troubleshooting.

### Setting Up the Virtual Environment

To set up the Python virtual environment and install the necessary dependencies, follow these steps in PowerShell:

1. **Create the Virtual Environment:**
   ```powershell
   PS C:\path\to\current\dir> python3 -m venv venv
   ```
   
2. **Activate the Virtual Environment:**
   ```powershell
   PS C:\path\to\current\dir> .\venv\Scripts\activate
   ```
   
3. **Install Required Packages:**
   ```powershell
   (venv) PS C:\path\to\current\dir> python3 -m pip install -r requirements.txt
   ```

### Usage Information

For information on how to use the script, you can run it with the `-h` flag to display the help message:

```powershell
(venv) PS C:\path\to\current\dir> python3 ./analyze.py -h
```

### Exiting the Virtual Environment

When you're done, you can leave the virtual environment by typing `deactivate`:

```powershell
(venv) PS C:\path\to\current\dir> deactivate
```

## VM Automation Script (New-VirtualMachine.ps1)

A PowerShell script is included to automate the creation of VirtualBox Virtual Machines. It uses a JSON formatted configuration file for VM specifications.

#### Script Synopsis

Automates the creation of a VirtualBox Virtual Machine.

#### Description

A PowerShell script to create a new VirtualBox Virtual Machine using a JSON formatted configuration file.

#### Parameters

- `ConfigFilePath`: Path to the JSON configuration file containing the virtual machine specifications.
- `Check`: If provided, the script will only display the specifications without creating the VM.

#### Examples

```powershell
.\New-VirtualMachine.ps1 -ConfigFilePath "./RouterConfig.json"
```

```powershell
.\New-VirtualMachine.ps1 -ConfigFilePath "C:\path\to\RouterConfig.json" -Check
```

#### Notes

- Author: Kameron Bettridge
- References: [VirtualBox Automate Virtual Machine Creation Process through VBoxManage & PowerShell](https://wenijinew.medium.com/virtualbox-automate-virtual-machine-creation-process-through-vboxmanage-powershell-5a78f3b1e000)
